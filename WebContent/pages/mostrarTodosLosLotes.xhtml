<!DOCTYPE html
	PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core" xmlns:h="http://java.sun.com/jsf/html"
	xmlns:a="http://xmlns.jcp.org/jsf/passthrough">

<h:head>
	<title>DEPO - Lotes</title>
	<link href="https://fonts.googleapis.com/css?family=Noto+Sans" rel="stylesheet" />
	<h:outputStylesheet name="css/reset.css"></h:outputStylesheet>
	<h:outputStylesheet name="css/styles.css"></h:outputStylesheet>
	<link href="https://fonts.googleapis.com/icon?family=Material+Icons|Material+Icons+Outlined" rel="stylesheet" />
</h:head>

<body>
	<h:form>
		<div class="grid-container">
			<nav class="sidebar">
				<div class="logo">
					<h:graphicImage name="img/depo-logo.png" class="depo-logo" />
				</div>
				<ul class="nav-group-inicio">
					<h:commandLink action="main">
						<div class="nav-item">
							<i class="material-icons-outlined">home</i>
							<span class="nav-item-text">Inicio</span>
						</div>
					</h:commandLink>
				</ul>
				<ul class="nav-group-productos">
					<div class="nav-group-title">Productos</div>
					<h:commandLink action="mostrarTodosLosProductos">
						<div class="nav-item">
							<i class="material-icons-outlined">category</i>
							<span class="nav-item-text">Productos</span>
						</div>
					</h:commandLink>
					<h:commandLink action="mostrarTodosLosLotes">
						<div class="nav-item nav-item-selected">
							<i class="material-icons-outlined">widgets</i>
							<span class="nav-item-text">Lotes</span>
						</div>
					</h:commandLink>
					<h:commandLink action="mostrarTodasLasFamilias">
						<div class="nav-item">
							<i class="material-icons-outlined">local_offer</i>
							<span class="nav-item-text">Familias</span>
						</div>
					</h:commandLink>
				</ul>
				<ul class="nav-group-personal">
					<div class="nav-group-title">Personal</div>
					<h:commandLink action="perfil">
						<div class="nav-item">
							<i class="material-icons-outlined">account_circle</i>
							<span class="nav-item-text">Perfil</span>
						</div>
					</h:commandLink>
					<h:commandLink action="#{usuarioManagedBean.logOut}">
						<div class="nav-item">
							<i class="material-icons-outlined">exit_to_app</i>
							<span class="nav-item-text">Cerrar Sesión</span>
						</div>
					</h:commandLink>
				</ul>
			</nav>

			<div class="tab-content">
				<div class="add-button-wrapper">
					<h2>Lotes</h2>
					<h:commandLink action="#{loteManagedBean.crearLoteStart()}"
						class="add-button high-emphasis-wide boton">
						<i class="material-icons-outlined">add</i>
						<span>Agregar</span>
					</h:commandLink>
				</div>
				<div class="searchbar">
					<div class="searchbar-container">
						<h:inputText value="#{filtro}" type="search" name="searchbar" class="searchbar" a:placeholder="Buscar" />
						<h:commandLink action="#{loteManagedBean.obtenerListaPorCodigo(filtro)}"
							class="icono-searchbar justificar-derecha">
							<i class="material-icons-outlined">search</i>					
						</h:commandLink>
					</div>
				</div>
				<div class="mensajes">
					<h:messages infoClass="mensaje mensaje-normal" errorClass="mensaje mensaje-error" />
				</div>
				<div class="content-container">
					<h:dataTable value="#{loteManagedBean.listaLotes}" var="lote">
						<h:column>
							<f:facet name="header">Código</f:facet>
							#{lote.codigo}
						</h:column>
						<h:column>
							<f:facet name="header">Producto</f:facet>
							#{lote.producto.nombre}
						</h:column>
						<h:column>
							<f:facet name="header">Cantidad</f:facet>
							#{lote.cantidad}
						</h:column>
						<h:column>
							<f:facet name="header">F. Vencimiento</f:facet>
							#{lote.fechaVencimiento}
						</h:column>
						<h:column>
							<h:inputHidden value="#{lote.id}" />
							<h:commandLink action="#{loteManagedBean.verDetallesLote()}" immediate="true"
								class="boton low-emphasis" title="Ver Detalles">
								<i class="material-icons-outlined">list_alt</i>
								<f:setPropertyActionListener target="#{loteManagedBean.lote}" value="#{lote}" />
							</h:commandLink>
							<h:commandLink action="#{loteManagedBean.actualizarLoteStart()}" immediate="true"
								class="boton low-emphasis" title="Editar">
								<i class="material-icons-outlined">edit</i>
								<f:setPropertyActionListener target="#{loteManagedBean.lote}" value="#{lote}" />
							</h:commandLink>
							<h:commandLink action="#{loteManagedBean.eliminarLoteStart()}" immediate="true"
								class="boton low-emphasis" title="Eliminar">
								<i class="material-icons-outlined">delete</i>
								<f:setPropertyActionListener target="#{loteManagedBean.lote}" value="#{lote}" />
							</h:commandLink>
						</h:column>
					</h:dataTable>
				</div>
			</div>
		</div>
	</h:form>
</body>

</html>